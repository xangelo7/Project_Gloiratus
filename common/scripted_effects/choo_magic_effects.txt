get_targetable_provinces_casting = {

clear_variable_list = targetable_provinces_casting

if = { limit = { root = { NOT = { has_variable = targetable_provinces_casting } } } set_variable = { name = targetable_provinces_casting } }




scope:current_location_of_the_unit = {
		
		save_temporary_scope_as = to_add
			root = {
				add_to_variable_list = {
					name = targetable_provinces_casting
					target = scope:to_add
				}
			}


every_neighbor_province = { 
	limit = { 
		root = { 
			has_variable = targetable_provinces_casting  	
				NOT = {
					is_target_in_variable_list = { name = targetable_provinces_casting target = PREV }
				}
			}
		}
	
	
				save_temporary_scope_as = to_add
			root = {
				add_to_variable_list = {
					name = targetable_provinces_casting
					target = scope:to_add
				}
			}

		}

	}
}

get_targetable_area_casting = {

clear_variable_list = targetable_area_casting

if = { limit = { root = { NOT = { has_variable = targetable_area_casting } } } set_variable = { name = targetable_area_casting } }




scope:current_location_of_the_unit.area = {
		
		
		every_area_province = { 
			limit = { is_state_capital = yes } 
			save_temporary_scope_as = to_add
		}
		
			root = {
				add_to_variable_list = {
					name = targetable_area_casting
					target = scope:to_add
				}
			}
			

every_neighbor_area = { 
limit = { 
	any_area_province = {
		root = { 
			has_variable = targetable_area_casting  	
				NOT = {
					is_target_in_variable_list = { name = targetable_area_casting target = PREV }
				}
			}
		}
	}

		every_area_province = { 
			limit = { is_state_capital = yes } 
			save_temporary_scope_as = to_add
		}	
			root = {
				add_to_variable_list = {
					name = targetable_area_casting
					target = scope:to_add
				}
			}	
		
		
		}

	}
}



get_targetable_characters_casting = {

clear_variable_list = targetable_char_casting

if = { limit = { root = { NOT = { has_variable = targetable_char_casting } } } set_variable = { name = targetable_char_casting } }


scope:current_location_of_the_unit.area = {

every_area_province = {

every_living_character = {
limit = { is_at_location = PREV is_adult = yes }

save_temporary_scope_as = to_add
			
			root = {
				add_to_variable_list = {
					name = targetable_char_casting
					target = scope:to_add
				}
			}

}

}


}




}


get_targetable_armies_casting = {


clear_variable_list = targetable_armies_casting

if = { limit = { root = { NOT = { has_variable = targetable_armies_casting } } } set_variable = { name = targetable_armies_casting } }



scope:current_location_of_the_unit.area = {



	every_area_province = {
	
	every_unit_in_province = { limit = { OR = { is_navy = yes is_army = yes } unit_owner = { NOT = { tag = MER } } } save_temporary_scope_as = to_add  }
	
			root = {
			if = { limit = { exists = scope:to_add } 
				add_to_variable_list = {
					name = targetable_armies_casting
					target = scope:to_add
					}
				}
			}
	
	}



every_neighbor_area = {



	every_area_province = {
	
	every_unit_in_province = { limit = { OR = { is_navy = yes is_army = yes } unit_owner = { NOT = { tag = MER } } } save_temporary_scope_as = to_add  }
	
			root = {
			if = { limit = { exists = scope:to_add } 
				add_to_variable_list = {
					name = targetable_armies_casting
					target = scope:to_add
					}
				}
			}
	
	}
	



}

}

}
