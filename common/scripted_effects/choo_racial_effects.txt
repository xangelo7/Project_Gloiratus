assign_proper_race_on_birth = {
if = {
limit = {
			exists = mother
			exists = father
}

			if = { 
				#elf
				limit = {
				
				father = {
				is_elf = yes
				is_halfbreed = no
				}
				
				mother = { 
				is_elf = yes
				is_halfbreed = no  
				} 
				
				} 
				
				add_trait = elf_trait
				
			}
				
				#half_elf
				#elven blood vanishes after 2 generations of non elven blood breeding
			if = { 
			
			limit = {
				OR = {
				#father is elf mother is not
				AND = { 
				father = {
				is_elf = yes
				is_halfbreed = no
				}
				
				mother = { 
				is_elf = no
				}
				}
				#mother is elf father is not
				AND = { 
				father = {
				is_elf = no
				}
				
				mother = { 
				is_elf = yes
				is_halfbreed = no
				}
				}
				#half breed + half breed
				AND = { 
				father = {
				is_elf = yes
				is_halfbreed = yes
				}
				
				mother = { 
				is_elf = yes
				is_halfbreed = yes
				}
				}
				
				
				}
			} 
			
			add_trait = half_elf_trait
			
			
			}
			
			if = { 
			#dwarf
			limit = {
			
			father = {
			is_dwarf = yes
			is_halfbreed = no
			}
			
			mother = { 
			is_dwarf = yes
			is_halfbreed = no  
			} 
			
			} 
			
			add_trait = dwarf_trait
			
			}
			#dwarf mothers puryfies blood
			if = { 
			
			limit = {
			
			father = {
			is_dwarf = yes
			is_halfbreed = yes
			}
			
			mother = { 
			is_dwarf = yes
			is_halfbreed = no  
			} 
			
			} 
			
			add_trait = dwarf_trait
			
			}
			
			if = { 
			
			limit = {

			father = {
			is_dwarf = yes
			}
			
			mother = { 
			is_dwarf = yes
			is_halfbreed = yes 
			} 
			
			} 
			
			add_trait = half_dwarf_trait
			
			}			
			if = { 
			
			limit = {

			father = {
			is_dwarf = no
			}
			
			mother = { 
			is_dwarf = yes
			is_halfbreed = no 
			} 
			
			} 
			
			add_trait = half_dwarf_trait
			
			}	
			if = { 
			
			limit = {

			father = {
			is_dwarf = no
			}
			
			mother = { 
			is_dwarf = yes
			is_halfbreed = no 
			} 
			
			} 
			
			add_trait = half_dwarf_trait
			
			}		
		
		
		
		
		if = { 
			#orc
			limit = {
			
			father = {
			is_orc = yes
			is_halfbreed = no
			}
			
			mother = { 
			is_orc = yes
			is_halfbreed = no  
			} 
			
			} 
			
			add_trait = orc_trait
			
		}
		
		if = { 
			#orc
			limit = {
			
			father = {
			OR = {  
			AND = {
			is_orc = yes
			is_halfbreed = yes
			}
			is_orc = no
			}
			}
			
			mother = { 
			is_orc = yes
			is_halfbreed = no  
			} 
			
			} 
			
			add_trait = half_orc_trait
			
		}			
		if = { 
			#orc
			limit = {
			
			father = {
			is_orc = yes
			is_halfbreed = no
			}
			
			mother = { 
			OR = {  
			AND = {
			is_orc = yes
			is_halfbreed = yes
			}
			is_orc = no
			}
			
			} 
			
			} 
			
			add_trait = half_orc_trait
			
		}			
			
	
	}

}


choom_on_char_create = {

	if = {
		limit = {
			OR = {
				has_culture_group = high_elves
				has_culture_group = werhenssian
				has_culture_group = forest_elves
			}
		}
		add_trait = elf_trait
	}
	else_if = {
		limit = {
			OR = {
				has_culture_group = common_dwarves
				has_culture_group = silver_dwarves
				has_culture_group = gold_dwarves
			}
		}
		add_trait = dwarf_trait
	}
	else_if = {
		limit = {
			has_culture_group = orcish
		}
		add_trait = orc_trait
	}



}

